<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport"
        content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
    <title>title</title>
    <!-- å¯¼å…¥swipperçš„cssï¼Œæœ€å¥½æ”¾åœ¨è‡ªå·±çš„cssæ ·å¼ä¸Šé¢ï¼Œé¿å…å‡ºç°æƒé‡çš„é—®é¢˜ -->
    <!-- <link rel="stylesheet" href="lib/swiper/swiper.min.css">   swiperæ ·å¼åˆå¹¶åˆ°ç¼–è¯‘åçš„index.cssæ–‡ä»¶é‡Œäº†-->
    <!-- ç¼–è¯‘åçš„index.cssæ–‡ä»¶è¦åœ¨swiperæ ·å¼çš„åé¢å¯¼å…¥ï¼Œé¿å…å‡ºç°è¦†ç›–é—®é¢˜ -->
    <link rel="stylesheet" href="css/index.css">
    <script>
        document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] +
            ':35729/livereload.js?snipver=1"></' + 'script>')
    </script>
</head>
<body>
    <!-- loadingé¡µé¢ -->
    <div class="loading">
        <div class="rider"></div>
        <div class="progress">
            <div class="step"></div>
        </div>
        <div class="info"></div>
        <!-- å¤–å–logo -->
        <div class="logo"></div>
        <!-- ç‰ˆæƒä¿¡æ¯ -->
        <div class="copyright">
            @ 2017 DuBa waimai Produced
        </div>
    </div>
    <!-- æ¬¢è¿é¡µ å¸ƒå±€ -->
    <div class="welcome">
        <div class="info">
            <div class="hello"></div>
        </div>

        <!-- äº‘    cloudçš„å¸ƒå±€åœ¨ä¸Šé¢ï¼Œå°±ä¼šä¼˜å…ˆè§£æäº‘ï¼Œäº‘åœ¨ç†Šç¬¼ä¸‹é¢æ˜¾ç¤º-->
        <div class="cloud"></div>
        <!-- è‰åœ° -->
        <div class="grass1"></div>
        <!-- æ ‘ -->
        <div class="trees"></div>

        <!-- ç†Šç¬¼   ç†Šç¬¼çš„å¸ƒå±€åœ¨äº‘å’Œè‰åœ°,æ ‘çš„ä¸‹é¢ï¼Œä¼šåè§£æï¼Œç†Šç¬¼è¦†ç›–åœ¨äº‘å’Œè‰åœ°çš„ä¸Šé¢ï¼Œå¦åˆ™ç†Šç¬¼ä¼šè¢«å‹ä½ï¼Œæ— æ³•æ˜¾ç¤º-->
        <div class="bear-box">
            <div class="bear" id="bear"></div>
            <div class="smoke"></div>
        </div>
        <!-- page1æœ€ä¸‹é¢çš„è‰   å¸ƒå±€åœ¨ç†Šç¬¼ä¸Šé¢ï¼Œè¦†ç›–åœ¨ç†Šç¬¼ä¸Šé¢æ˜¾ç¤ºï¼Œå¦‚æœå†èµ·ä¸Šé¢ï¼Œä¼šè¢«ç†Šè¦†ç›– -->
        <div class="grass2"></div>
        <!-- æ—‹è½¬çš„æŒ‰é’® -->
        <div class="rotate-btn-box">
            <div class="btn"></div>
            <div class="circle1"></div>
            <div class="circle2"></div>
        </div>


    </div>
    <!-- swiperçš„ç»“æ„ -->
    <div class="waimai-container">
        <div class="swiper-wrapper">
            <!-- è½®æ’­é¡µé¢1 -->
            <div class="swiper-slide page1">
                <div class="title">
                    <h3>ç”Ÿæ´»ä¸­ï¼Œ</h3>
                    <p>ç»å¸¸æœ‰è¿™ç§æ—¶å€™...</p>
                    <div class="line"></div>
                </div>
                <!-- è½®æ’­çš„ç›’å­1 -->
                <div class="scroll-page1">
                    <div class="bg"></div>
                    <div class="person">
                        <div class="files">
                            <!-- ä¸€æ‘çº¸1 -->
                            <div class="paper1"></div>
                            <!-- ä¸€æ‘çº¸2 -->
                            <div class="paper2"></div>
                        </div>

                    </div>

                    <div class="message-container">
                        <div class="info"></div>
                    </div>
                </div>

                <!-- è½®æ’­çš„ç›’å­2 -->
                <div class="scroll-page2">
                    <div class="bg"></div>
                    <div class="person">
                        <div class="leg1"></div>
                        <div class="leg2" id="leg2"></div>
                    </div>
                    <div class="message-container">
                        <div class="info"></div>
                    </div>
                </div>

                <!-- è½®æ’­çš„ç›’å­3 -->
                <div class="scroll-page3">
                    <div class="bg"></div>
                    <div class="person">
                        <div class="word1"></div>
                        <div class="word2"></div>
                        <div class="word3"></div>
                        <div class="word4"></div>

                    </div>
                    <div class="message-container">
                        <div class="info"></div>
                    </div>
                </div>
                <!-- æ¯ä¸ªè½®æ’­ç›’å­éƒ½æœ‰çƒï¼Œæ”¾åœ¨å¤–é¢ -->
                <div class="sphere"></div>
                <!-- ç†Š -->
                <div class="bear"></div>
            </div>
            <div class="swiper-slide page2">
                <!-- æ ‡é¢˜ -->
                <div class="title">
                    <h3>è¿™æ—¶å€™,</h3>
                    <p>å¦‚æœæœ‰ä¸€ä»½å¥½åƒçš„å¤–å–ã€‚ã€‚ã€‚<br>åˆšå¥½é€è¿‡æ¥å“¦</p>
                    <div class="line"></div>
                </div>
                <!-- èƒŒæ™¯ -->
                <div class="bg"></div>
                <!-- ç†Š -->
                <div class="bear" id="bear1">
                    <!-- è¡¨æƒ…1 -->
                    <div class="face1"></div>
                    <!-- è¡¨æƒ…2 -->
                    <div class="face2"></div>
                    <!-- ç†ŠæŒ -->
                    <div class="hand-left"></div>
                    <div class="hand-right"></div>
                </div>
                <!-- æ˜Ÿçƒ -->
                <div class="sphere"></div>
                <!-- æ¡Œå­ -->
                <div class="table"></div>
                <!-- é£Ÿç‰© -->
                <div class="food"></div>
            </div>
            <div class="swiper-slide page3 ">
                <!-- æ ‡é¢˜ -->
                <div class="title">
                    <h3>é‚£æ—¶å€™,</h3>
                    <p>å¦‚æœä¸€ç¢—åœ°æ²Ÿæ²¹ç‚’é¥­<br>åˆšå¥½é€åˆ°ğŸ˜</p>
                    <div class="line"></div>
                </div>
                <!-- èƒŒæ™¯ -->
                <div class="bg"></div>
                <!--  ç†Š-->
                <div class="bear"></div>
                <!-- è¸¢ç‰Œå­çš„ç†Š -->
                <div class="animtaion-bear-box">
                    <div class="animate-bear1"></div>
                    <div class="animate-bear2"></div>
                    <div class="animate-bear3"></div>
                </div>
                <!--  æ˜Ÿçƒ-->
                <div class="sphere"></div>
                <!-- ç‰Œå­1 -->

                <div class="normal-card">
                    <div class="license"></div>
                    <div class="oil"></div>
                    <div class="evil"></div>
                </div>
                <!-- æ·»åŠ è¸¢äº†ä¹‹åçš„ä¸‰å—ç‰Œå­ -->
                <div class="hit-card-box">
                    <div class="card1"></div>
                    <div class="card2"></div>
                    <div class="card3"></div>
                </div>
            </div>
            <div class="swiper-slide  page4">
                <!-- æ ‡é¢˜ -->
                <div class="title">
                    <h3>åº¦ç™¾å¤–å–</h3>
                    <p>ç»å¯¹ä¸é€åœ°æ²Ÿæ²¹<br>ä¹°10é€å’¸é¸­è›‹</p>
                    <div class="line"></div>
                </div>
                <div class="bg"></div>
                <div class="bear" id="bear4"></div>
                <div class="sphere"></div>
                <div class="card1" id="card1"></div>
                <div class="card2" id="card2"></div>
                <div class="card3" id="card3"></div>
            </div>
            <div class="swiper-slide page5">
                <!-- æ ‡é¢˜ -->
                <div class="title">
                    <h3>åªè¦ä¸ä¸‹åˆ€å­</h3>
                    <p>ä¸‹ä»€ä¹ˆ....<br>æˆ‘éƒ½å‡†æ—¶é€è¾¾</p>
                    <div class="line"></div>
                </div>
                <div class="bg"></div>
                <div class="bear" id="bear5">
                    <div class="smoke"></div>
                </div>
                <div class="sphere"></div>
                <!-- æ·»åŠ é›ªèŠ± -->
                <div class="cloud" id="cloud">
                    <div class="snow"></div>
                    <div class="snow"></div>
                    <div class="snow"></div>
                    <div class="snow"></div>
                    <div class="snow"></div>
                    <div class="snow"></div>
                </div>
            </div>
            <!-- è½®æ’­é¡µé¢6 -->
            <div class="swiper-slide page6">
                <!-- æ ‡é¢˜ -->
                <div class="title">
                    <h3>åƒå•¥é€å•¥</h3>
                    <p>ç¤¼ç‰©æ‹¿åˆ°ä½ æ‰‹è½¯<br>çœé’±çœåˆ°å®¶</p>
                    <div class="line"></div>
                </div>
                <div class="bg"></div>
                <div class="bear">
                    <div class="gift-box">
     <!-- æ­¤å¤„åœ¨å›¾ç‰‡æ‰€åœ¨çš„ç›’å­giftå¤–é¢å†åµŒå¥—ä¸€ä¸ªç›’å­divæ˜¯ä¸ºäº†å®ç°ä¸¤çº§åŒæ—¶æ—‹è½¬çš„æ•ˆæœ -->
                        <div><div class="gift1"></div></div>
                        <div><div class="gift2"></div></div>
                        <div><div class="gift3"></div></div>
                        <div><div class="gift4"></div></div>
                        <div><div class="gift5"></div></div>
                        <div><div class="gift6"></div></div>
                        <div><div class="gift7"></div></div>
                        <div><div class="gift8"></div></div>
                        <div><div class="gift9"></div></div>
                        <div><div class="gift10"></div></div>
                        <div><div class="gift11"></div></div>
                        <div><div class="gift12"></div></div>
                    </div>
                </div>
                <div class="sphere"></div>
            </div>
            <!-- è½®æ’­é¡µé¢7 -->
            <div class="swiper-slide page7">
                <!-- æ ‡é¢˜ -->
                <div class="title">
                    <h3>æˆ‘è¿™ä¹ˆåŠªåŠ›</h3>
                    <p>åªæ˜¯ä¸ºäº†ä½ <br>(ã¥ï¿£ 3ï¿£)ã¥</p>
                    <div class="line"></div>
                </div>
                <div class="streetlight">
                    <div class="light"></div>
                </div>
                <div class="motobike"></div>
                <div class="sphere"></div>
                <div class="bear"></div>
                <div class="share"></div>
                <div class="info">waimai.dubai.com</div>
            </div>
        </div>

    </div>
    </div>
    <!-- éŸ³é¢‘æ’­æ”¾æŒ‰é’® -->
    <audio loop src="music/hlw.mp3" ></audio>
    <input type="button" class="audioControl">
</body>
</html>
<script src="lib/swiper/swiper.min.js"></script>
<!-- å¯¼å…¥zepto -->
<script src="lib/zepto/zepto.js"></script>
<script src="lib/zepto/event.js"></script>
<script src="lib/zepto/fx.js"></script>
<!--æä¾›äº†é•¿æŒ‰çš„æ–¹æ³•-->
<script src="lib/zepto/touch.js"></script>
<script src="lib/zepto/fx_methods.js"></script>
<!--æä¾›äº†fadeOutçš„æ–¹æ³•-->
<script>
    var swiper = new Swiper(".waimai-container", {
        direction: 'vertical',
        //swiperåŒºåŸŸï¼šæ¯åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªåŒºåŸŸï¼Œä¸ºè¯¥åŒºåŸŸæ·»åŠ animate classï¼Œç§»é™¤å…¶ä»–é¡µé¢çš„animate class
        //æ·»åŠ å›è°ƒå‡½æ•°  swiper 4.0ç‰ˆæœ¬è¯­æ³• 
        on: {
            slideChangeTransitionEnd: function (swiper) {
                $(".swiper-slide").eq(this.activeIndex).addClass("animate").siblings().removeClass("animate");
                if (this.activeIndex == 2) {
                    $(".swiper-slide").eq(2).addClass("swiper-no-swiping");
                }

                //    åˆ‡é¢åˆ‡æ¢ï¼Œè¿˜åŸç¬¬ä¸‰é¡µçš„æ ·å¼
                //è·å–ä¸Šä¸€é¡µçš„ç´¢å¼•å€¼
                if (this.previousIndex == 2) {
                    //è¿˜åŸè®¾ç½®çš„æ‰€æœ‰è¡Œå†…æ ·å¼
                    $(".swiper-slide").eq(2).find(".bear").attr("style", "");
                    $(".animation-bear-box div").attr("style", "");
                    $(".normal-card div").attr("style", "");
                    $(".hit-card-box div").attr("style", "");
                    $(".animtaion-bear-box div").eq(2).css("opacity", 0);
                }
            }
        }
    })
    //é¡µé¢æ‰“å¼€ï¼Œç¨è¿‡ä¸€ç§’ï¼ŒåŠ¨ç”»å¼€å§‹æ‰§è¡Œ
    $(function () {
        //ç¬¬ä¸€é¡µçš„jsæ•ˆæœ
        setTimeout(function () {
            $(".loading").addClass("animate");
            //jsç»‘å®š
            // document.querySelector(".loading .step").addEventListener("animationend", function () {
            //     console.log("0");
            // })
            //jqueryç»‘å®š
            $(".loading .step").on("animationend", function () {
                $(".loading").fadeOut(100, function () {
                    $(".welcome").addClass("animate")
                });
            })

        }, 1000)
        //ç¬¬äºŒé¡µçš„æŒ‰é’®é•¿æŒ‰ zeptoçš„touchæ¨¡å— ,é•¿æŒ‰äº‹ä»¶longTap
        $(".welcome .rotate-btn-box").longTap(
            function () {
                // $(".bear").animate({  //jsè®¾ç½®åŠ¨ç”»äº‹ä»¶ï¼Œå‘ä¸‹ç§»åŠ¨100%ï¼Œæ”¾å¤§2å€ï¼Œæœ€åéšè—
                //    transform:"translateY(100%) scale(2,2)",
                //    opacity:0
                // },1000,function(){
                //     console.log("songzou ");
                // })

                //zeptoæ·»åŠ  cssä¸­çš„animationåŠ¨ç”»
                $("#bear").css("animation", "bearDisappear 1s forwards");
                setTimeout(function () {
                    $(".welcome").fadeOut(1000, function () {
                        $(".page1").addClass("animate");
                    }); //1ç§’ä¹‹åwelcomeé¡µé¢æ·¡å‡ºï¼Œå¹¶ä¸”ä¸ºswiperçš„ç¬¬ä¸€é¡µæ·»åŠ animate class
                }, 1500)

            }
        )

        //swiperçš„ç¬¬ä¸‰é¡µ ç´¢å¼•ä¸º2
        $(".swiper-slide").eq(2).click(function () {
            $(this).removeClass("swiper-no-swiping"); //ç‚¹å‡»ä¹‹åå¯ä»¥æ»‘åŠ¨è¯¥é¡µé¢
            //æŠŠä¸­é—´çš„åˆå§‹é¡µé¢çš„ç†Šéšè— ,æ— æ³•æ¸…é™¤çš„åŸå› æ˜¯ç»™å…¶è®¾ç½®äº†åŠ¨ç”»

            $(".swiper-slide").eq(2).children(".bear").css("display", "none");
            var index = 0;
            interId = setInterval(function () {
                // è¸¢ç‰Œå­123 çš„ä¸‰ä¸ªç†Šï¼Œé»˜è®¤éšè—ï¼Œåªæœ‰ç´¢å¼•ä¸ºindexçš„ç†Šæ˜¾ç¤º
                $(".animtaion-bear-box div").css("opacity", 0);
                $(".animtaion-bear-box div").eq(index).css("opacity", 1);

                //éšè— normal-card å®¹å™¨ä¸­çš„ç‰Œå­ åˆå§‹çš„ç‰Œå­éšè—
                $(".normal-card div").eq(index).css("display", "none");
                //æ’•ç¢çš„ç‰Œå­æ˜¾ç¤º
                $(".hit-card-box div").eq(index).css("opacity", 1);

                //å½“index ==2 æ—¶ï¼Œå¼€å§‹è¸¢æœ€åä¸€å¼ 
                if (index == 2) {
                    clearInterval(interId);

                    $(".hit-card-box div").css("animation", "bearDisappear 1s forwards");
                    //æ‰å®Œäº†ï¼Œå¼€å¯æ»‘åŠ¨
                    setTimeout(function () {
                        $(".swiper-slide").eq(2).removeClass("swiper-no-swiping");

                    }, 1000)
                }



                //indexè¦ç´¯åŠ 
                index++;
            }, 1000)
        })


    })

//ä¸ºæŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œæ§åˆ¶éŸ³é¢‘æ’­æ”¾
var audioDom = document.querySelector("audio");
$(".audioControl").click(function(){ //$(".audioControl")
if(audioDom.paused == true){
//play paused éƒ½æ˜¯domå…ƒç´ çš„è¯­æ³•ï¼Œä¸èƒ½ä½¿ç”¨$(".audioControl")çš„è¿™ç§è·å–æ–¹æ³•ï¼Œç„¶åå†ç‚¹.play
    audioDom.play();
    $(this).css("background-image","url('images/pause.png')");
}else{
    audioDom.pause();
    $(this).css("background-image","url('images/play.png')");

}
})
</script>